:root{
  --bg:#050507;
  --fg:#f7f7f7;
  --muted:#b8b8b8;
  scroll-behavior: smooth;
}
*{box-sizing:border-box;}

html, body {
  height: 100%;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--fg);

  /* IMPORTANT: don't hardcode height like 480vh */
  min-height: 100vh; /* JS will set this based on steps */
  overflow-x:hidden;
}

.topbar{
  position:fixed; top:0; left:0; right:0;
  height:96px;
  z-index:20;
  pointer-events:none;
  background: linear-gradient(180deg, rgba(5,5,7,0.90), rgba(5,5,7,0));
}

/* LOGO right-center desktop */
.logo-fixed-right{
  position:fixed;
  top:50%;
  right:4vw;
  transform:translateY(-50%);
  z-index:40;
  pointer-events:auto;
  background:transparent;
  border:none;
  padding:0;
}
.logo-fixed-right svg{
  width:500px;
  height:auto;
  display:block;
  overflow:visible;
}

/* PURE outline draw */
.logo-path{
  fill:none !important;
  stroke:#fff !important;
  stroke-width:3.6 !important;
  stroke-linecap:round;
  stroke-linejoin:round;
  stroke-miterlimit:1;
  opacity:.98;
}

@media (max-width: 768px){
  .logo-fixed-right{
    top:14px;
    right:50%;
    transform:translateX(50%);
    z-index:50;
    pointer-events:none;
  }
  .logo-fixed-right svg{ width:180px; }
}

/* STAGE */
.stage{
  position:sticky; top:0;
  height:100vh; width:100vw;
  display:grid; place-items:center;
  overflow:hidden;
}
.stage::before{
  content:"";
  position:absolute; inset:-30%;
  background:
    radial-gradient(65% 50% at 50% 48%, rgba(255,255,255,0.055), transparent 60%),
    radial-gradient(120% 90% at 50% 92%, rgba(0,0,0,0.95), transparent 55%);
  pointer-events:none; z-index:0;
}

.cook-scene{
  position:relative;
  width:min(80vw, 900px);
  height:min(60vh, 520px);
  z-index:1;
  transform-style:preserve-3d;
  transform: translateY(7vh);
}

/* PARTICLES */
.particles-back{
  position:absolute; inset:0;
  z-index:3;
  pointer-events:none;
  transform: translateZ(0px);
}
.particles-front{
  position:absolute; inset:0;
  z-index:25;
  pointer-events:none;
  transform: translateZ(260px);
  transform-style:preserve-3d;
}
.p{
  position:absolute;
  opacity:0;
  transform:translate(-50%,-50%);
  will-change:transform,opacity;
}

/* MEAT WRAP */
.steak-wrap{
  position:absolute;
  left:50%; top:24%;
  width:360px;
  transform:translate(-50%,-50%);
  transform-origin:50% 12%;
  will-change:transform;
  z-index:10;
  transform-style:preserve-3d;

  --sear: 0;
  filter:
    drop-shadow(0 26px 60px rgba(0,0,0,.9))
    saturate(calc(1 + var(--sear) * 0.25))
    brightness(calc(1 - var(--sear) * 0.08));
}
#meatImg{
  width:100%;
  height:auto;
  display:block;
  user-select:none;
  pointer-events:none;
}

/* GRILL / FIRE / GLOW */
.grill{
  position:absolute;left:50%;top:70%;
  width:640px;height:250px;
  transform:
    translate(-50%,-50%)
    perspective(900px)
    rotateX(58deg)
    translateZ(-120px);
  transform-origin:center;
  border-radius:34px;
  background:
    radial-gradient(380px 120px at 50% 8%, rgba(255,255,255,.12), transparent 65%),
    linear-gradient(180deg, #1a1b25, #07070c);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.06),
    inset 0 -30px 70px rgba(0,0,0,.9),
    0 45px 90px rgba(0,0,0,.95);
  opacity:0;
  z-index:4;
}
.grill::after{
  content:"";
  position:absolute; left:4%; right:4%; bottom:-22px; height:38px;
  border-radius:0 0 26px 26px;
  background:linear-gradient(180deg, #101018, #040407);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.05),
    0 12px 25px rgba(0,0,0,.8);
  transform:translateZ(-30px);
}
.grates{
  position:absolute;inset:22px 30px;border-radius:20px;
  background:
    repeating-linear-gradient(90deg,
      transparent 0 14px,
      rgba(255,255,255,.12) 14px 22px),
    repeating-linear-gradient(0deg,
      transparent 0 22px,
      rgba(0,0,0,.85) 22px 30px),
    linear-gradient(180deg, #2b2c37, #12131b);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.06),
    inset 0 14px 26px rgba(255,255,255,.05);
}
.fire{
  position:absolute;left:50%;top:80%;
  width:580px;height:180px;
  transform:translate(-50%,-50%);
  opacity:0;filter:blur(1.6px) saturate(1.25);
  z-index:2;
}
.flame{
  position:absolute;
  bottom:0;
  width:78px;
  height:150px;
  background:
    radial-gradient(60px 120px at 50% 80%, #ffd17a 0%, #ff8c2a 55%, #ff3b00 100%);
  border-radius:50% 50% 48% 48%;
  transform-origin:50% 100%;
  animation:flicker 0.95s infinite ease-in-out;
  opacity:.95;
  mix-blend-mode:screen;
  filter:blur(0.6px) saturate(1.3);
}
.flame::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:10%;
  width:55%;
  height:60%;
  transform:translateX(-50%);
  background:
    radial-gradient(40px 70px at 50% 80%, #fff6c9 0%, #ffcf6a 60%, transparent 100%);
  border-radius:50% 50% 45% 45%;
  opacity:0.9;
  filter:blur(0.4px);
}
.flame:nth-child(1){left:0px;height:120px;animation-delay:0s}
.flame:nth-child(2){left:90px;height:165px;animation-delay:.12s}
.flame:nth-child(3){left:190px;height:135px;animation-delay:.05s}
.flame:nth-child(4){left:300px;height:175px;animation-delay:.18s}
.flame:nth-child(5){left:410px;height:125px;animation-delay:.09s}
.flame:nth-child(6){left:500px;height:155px;animation-delay:.14s}

@keyframes flicker{
  0%   { transform:scale(1) translateY(0) skewX(0deg); }
  25%  { transform:scale(1.08,.95) translateY(-9px) skewX(3deg); }
  55%  { transform:scale(.96,1.06) translateY(-4px) skewX(-2deg); }
  100% { transform:scale(1) translateY(0) skewX(0deg); }
}
.glow{
  position:absolute;left:50%;top:81%;
  width:680px;height:260px;transform:translate(-50%,-50%);
  background:radial-gradient(closest-side, rgba(255,110,20,.6), transparent 70%);
  opacity:0;mix-blend-mode:screen;filter:blur(20px);
  z-index:1;
}

/* TEXT AREA */
.text-wrap{
  position:absolute; inset:0;
  display:grid;
  place-items:start start;
  z-index:8;
  pointer-events:none;
  padding:14vh 6vw 0;
  overflow:visible;
}
.text-card{
  width:min(760px, 90vw);
  text-align:left;
  padding-right:18px;
  opacity:0;
  transform: translateX(-90px);
  transition: opacity 500ms ease,
              transform 850ms cubic-bezier(.16,1,.3,1);
}
.text-card.show{ opacity:1; transform: translateX(0); }
.text-card.exit-right{ opacity:0; transform: translateX(80px); }

.final-step{
  transform: translateY(-6vh) !important;
}

.eyebrow, .eyebrow-caps{
  letter-spacing:.18em;
  font-size:.8rem; color:var(--muted); margin-bottom:8px;
}
.eyebrow-caps{ text-transform: uppercase; }
h1{
  font-size: clamp(2rem, 4.8vw, 3.7rem);
  margin:0 0 10px; line-height:1.05;
  max-width: 20ch;
}
p{
  font-size: clamp(1rem, 2.2vw, 1.35rem);
  color:#e9e9e9; margin:0; line-height:1.55;
  max-width: 36ch;
}

/* hint */
.scroll-hint{
  position:absolute; bottom:24px; left:50%;
  transform:translateX(-50%);
  display:flex; flex-direction:column; align-items:center; gap:8px;
  z-index:14; color:var(--muted); font-size:.9rem;
  opacity:.95; pointer-events:none; user-select:none;
  transition: opacity 400ms ease, transform 400ms ease;
}
.mouse{
  width:28px; height:44px; border:2px solid #777; border-radius:999px;
  position:relative;
}
.wheel{
  position:absolute; top:8px; left:50%; transform:translateX(-50%);
  width:4px; height:8px; border-radius:2px; background:#aaa;
  animation: wheel 1.4s infinite ease;
}
@keyframes wheel{
  0%{transform:translate(-50%,0); opacity:1;}
  70%{transform:translate(-50%,12px); opacity:0;}
  100%{transform:translate(-50%,0); opacity:0;}
}

/* final-step positioning */
.text-wrap.final-on{ transform: translateY(-6vh); }

@media (max-width: 768px){
  .text-wrap{ padding:16vh 20px 0; place-items:start center; }
  .text-card{ width:min(760px, 94vw); }
  .text-wrap.final-on{ transform: translateY(-3vh); }
  .steak-wrap{ width:300px; top:23%; }
  .smoke{ width:420px; top:28%; }
}

/* Instagram + tagline */
.ig-link{
  position:fixed; top:22px; left:22px; z-index:60;
  width:34px; height:34px; display:flex; align-items:center; justify-content:center;
  pointer-events:auto; text-decoration:none;
}
.ig-link svg{ width:100%; height:100%; opacity:0.9; transition:opacity .25s ease; }
.ig-link:hover svg{ opacity:1; }

.top-tagline{
  position:fixed; top:22px; right:22px; z-index:60;
  color:white; font-size:1.4rem; font-weight:300; letter-spacing:0.02em;
  max-width:360px; text-align:right; line-height:1.32; opacity:0.9;
  pointer-events:none; user-select:none; padding-right:10px;
}
@media(max-width:768px){
  .ig-link{ top:14px; left:14px; width:28px; height:28px; }
  .top-tagline{
    top:16px; right:16px; max-width:46vw;
    font-size:0.68rem; line-height:1.22; opacity:0.85;
  }
}
/* ============================================================================
   EXTENDED RESPONSIVE SUPPORT
   Works on every viewport width & height without altering existing rules.
   ========================================================================== */

/* Use new viewport units on all mobile browsers */
.stage{
  height: 100svh;
}

/* Base scaling for full scene */
.cook-scene{
  --scene-scale: 1;
  transform: translateY(7vh) scale(var(--scene-scale));
  transform-origin: 50% 60%;
}

/* ---------------------------------------------------------------------------
   ULTRAWIDE & LARGE DESKTOPS
   ------------------------------------------------------------------------- */
@media (min-width: 1600px){
  .cook-scene{
    --scene-scale: 1.15;
  }
  .logo-fixed-right svg{ width: 580px; }
}

/* ---------------------------------------------------------------------------
   LAPTOPS / MEDIUM DESKTOPS
   ------------------------------------------------------------------------- */
@media (max-width: 1400px){
  .cook-scene{ --scene-scale: 0.95; }
}

@media (max-width: 1200px){
  .cook-scene{ --scene-scale: 0.88; }
  .logo-fixed-right svg{ width: 420px; }
}

/* ---------------------------------------------------------------------------
   TABLETS (landscape & portrait)
   ------------------------------------------------------------------------- */
@media (max-width: 1024px){
  .cook-scene{ --scene-scale: 0.80; }
}

@media (max-width: 900px){
  .cook-scene{ --scene-scale: 0.75; }
  .logo-fixed-right svg{ width: 300px; }
}

/* iPad Mini / small tablets */
@media (max-width: 780px){
  .cook-scene{ --scene-scale: 0.70; }
  .text-wrap{ padding-top: 18vh; }
}

/* ---------------------------------------------------------------------------
   PHONES — PORTRAIT
   ------------------------------------------------------------------------- */
@media (max-width: 600px){
  .cook-scene{
    --scene-scale: 0.64;
    width: 100vw;
    height: 70vh;
    transform: translateY(5vh) scale(var(--scene-scale));
  }
  .logo-fixed-right svg{ width: 200px; }
  h1{ max-width: 22ch; }
  p{ max-width: 40ch; }
}

/* Small phones: 360–420px width (common Android sizes) */
@media (max-width: 420px){
  .cook-scene{
    --scene-scale: 0.58;
    height: 72vh;
    transform: translateY(4vh) scale(var(--scene-scale));
  }
  h1{ font-size: clamp(1.8rem, 6vw, 2.4rem); }
  p{ font-size: clamp(0.9rem, 4vw, 1.15rem); }
}

/* Ultra-small phones (iPhone SE, 320px android) */
@media (max-width: 340px){
  .cook-scene{
    --scene-scale: 0.52;
    transform: translateY(2vh) scale(var(--scene-scale));
  }
  .text-wrap{ padding-top: 20vh; }
  .logo-fixed-right svg{ width: 150px; }
}

/* ---------------------------------------------------------------------------
   PHONES — LANDSCAPE (short height)
   ------------------------------------------------------------------------- */
@media (max-height: 600px){
  .cook-scene{
    --scene-scale: 0.55;
    transform: translateY(2vh) scale(var(--scene-scale));
    height: 90vh;
  }
  .text-wrap{
    padding-top: 8vh;
  }
}

/* Extra-short (notches, foldables, landscape with browser bars) */
@media (max-height: 480px){
  .cook-scene{
    --scene-scale: 0.48;
    transform: translateY(0) scale(var(--scene-scale));
  }
}

/* ---------------------------------------------------------------------------
   SQUARE & 4:3 DEVICES (iPads, older tablets, foldables)
   ------------------------------------------------------------------------- */
@media (aspect-ratio: 4/3){
  .cook-scene{
    --scene-scale: 0.75;
    transform: translateY(5vh) scale(var(--scene-scale));
  }
}

@media (aspect-ratio: 1/1){
  .cook-scene{
    --scene-scale: 0.70;
  }
}

/* ---------------------------------------------------------------------------
   ULTRAWIDE LANDSCAPE PHONES (e.g., 21:9 Xperia)
   ------------------------------------------------------------------------- */
@media (max-height: 440px) and (min-width: 700px){
  .cook-scene{
    --scene-scale: 0.50;
    transform: translateY(0) scale(var(--scene-scale));
  }
}
/* ------------------------------
   SHORT HEIGHT LAPTOP FIX
   (covers 1536x960, browser chrome, Windows scaling)
--------------------------------*/
@media (min-width: 900px) and (max-height: 900px){

  /* move all cards a bit higher */
  .text-wrap{
    padding-top: 10vh;
  }

  /* slightly smaller text so Step 4 + Final fit */
  h1{
    font-size: clamp(1.8rem, 4.2vw, 3.1rem);
  }
  p{
    font-size: clamp(0.95rem, 1.8vw, 1.2rem);
  }

  /* lift Final step more so headline + p are visible */
  .text-wrap.final-on{
    transform: translateY(-12vh);
  }
}

/* even shorter heights (landscape / split screen) */
@media (min-width: 900px) and (max-height: 760px){
  .text-wrap{ padding-top: 8vh; }
  .text-wrap.final-on{ transform: translateY(-16vh); }
}
